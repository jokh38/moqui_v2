<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moqui: mqi::scorer&lt; R &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Moqui
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classmqi_1_1scorer.html','','classmqi_1_1scorer-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">mqi::scorer&lt; R &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A generic class for accumulating physical quantities (e.g., dose) in a simulation.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for mqi::scorer&lt; R &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classmqi_1_1scorer__coll__graph.png" border="0" usemap="#amqi_1_1scorer_3_01_r_01_4_coll__map" loading="lazy" alt="Collaboration graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a17af3e2912e25d6836b663f7f30018bb" id="r_a17af3e2912e25d6836b663f7f30018bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mqi__common_8hpp.html#ae1a4fe884f889ba6d532db4c1d191eb7">CUDA_HOST_DEVICE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17af3e2912e25d6836b663f7f30018bb">scorer</a> (const char *name, const uint32_t max_capacity, const <a class="el" href="namespacemqi.html#a9a956d4101dbbf59188d16f3e75b05ec">fp_compute_hit</a>&lt; R &gt; func_pointer)</td></tr>
<tr class="memdesc:a17af3e2912e25d6836b663f7f30018bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a scorer object.  <br /></td></tr>
<tr class="memitem:a3773209e5984d2ef35117d9e3810f356" id="r_a3773209e5984d2ef35117d9e3810f356"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mqi__common_8hpp.html#ae1a4fe884f889ba6d532db4c1d191eb7">CUDA_HOST_DEVICE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3773209e5984d2ef35117d9e3810f356">~scorer</a> ()</td></tr>
<tr class="memdesc:a3773209e5984d2ef35117d9e3810f356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. Frees memory allocated for the data arrays.  <br /></td></tr>
<tr class="memitem:abb84f14fdacf69efd9ea801c29c908c0" id="r_abb84f14fdacf69efd9ea801c29c908c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mqi__common_8hpp.html#ae1a4fe884f889ba6d532db4c1d191eb7">CUDA_HOST_DEVICE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb84f14fdacf69efd9ea801c29c908c0">delete_data_if_used</a> (void)</td></tr>
<tr class="memdesc:abb84f14fdacf69efd9ea801c29c908c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the memory for all data, count, mean, and variance arrays if they have been allocated.  <br /></td></tr>
<tr class="memitem:ae938d054c9e6cf37840d69f606a92855" id="r_ae938d054c9e6cf37840d69f606a92855"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mqi__common_8hpp.html#a99f5ad1927871dd1fe64a29a102f6830">CUDA_DEVICE</a> unsigned long long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae938d054c9e6cf37840d69f606a92855">hash_fun</a> (unsigned long long int k)</td></tr>
<tr class="memdesc:ae938d054c9e6cf37840d69f606a92855"><td class="mdescLeft">&#160;</td><td class="mdescRight">A hash function to map a key to an index in the hash table.  <br /></td></tr>
<tr class="memitem:a558b1e41c89691e485567a5072aa5543" id="r_a558b1e41c89691e485567a5072aa5543"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mqi__common_8hpp.html#ae1a4fe884f889ba6d532db4c1d191eb7">CUDA_HOST_DEVICE</a> uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a558b1e41c89691e485567a5072aa5543">CAS</a> (uint32_t *address, uint32_t compare, uint32_t val)</td></tr>
<tr class="memdesc:a558b1e41c89691e485567a5072aa5543"><td class="mdescLeft">&#160;</td><td class="mdescRight">A host-side implementation of the atomic Compare-And-Swap (CAS) operation.  <br /></td></tr>
<tr class="memitem:abcc753e16766271c8baeda191180fe7a" id="r_abcc753e16766271c8baeda191180fe7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mqi__common_8hpp.html#a99f5ad1927871dd1fe64a29a102f6830">CUDA_DEVICE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abcc753e16766271c8baeda191180fe7a">insert_pair</a> (<a class="el" href="namespacemqi.html#a6772fb6691304edb90932df7c4dd0e65">mqi::key_t</a> key1, <a class="el" href="namespacemqi.html#a6772fb6691304edb90932df7c4dd0e65">mqi::key_t</a> key2, R value, unsigned long long int scorer_offset)</td></tr>
<tr class="memdesc:abcc753e16766271c8baeda191180fe7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomically inserts or adds a value to the hash table.  <br /></td></tr>
<tr class="memitem:ad6ec7072a5ed6e27f24ccd08382f580e" id="r_ad6ec7072a5ed6e27f24ccd08382f580e"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="mqi__common_8hpp.html#a99f5ad1927871dd1fe64a29a102f6830">CUDA_DEVICE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6ec7072a5ed6e27f24ccd08382f580e">process_hit</a> (const <a class="el" href="classmqi_1_1track__t.html">track_t</a>&lt; R &gt; &amp;trk, const int32_t &amp;cnb, <a class="el" href="classmqi_1_1grid3d.html">grid3d</a>&lt; <a class="el" href="namespacemqi.html#a80d4917d9cacfb8d4c91de2a8e54c39a">mqi::density_t</a>, R &gt; &amp;geo, const uint32_t &amp;offset, unsigned long long int scorer_offset=0)</td></tr>
<tr class="memdesc:ad6ec7072a5ed6e27f24ccd08382f580e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a single particle interaction (a "hit").  <br /></td></tr>
<tr class="memitem:a07aa7652afbf2389839e70f6e834126a" id="r_a07aa7652afbf2389839e70f6e834126a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mqi__common_8hpp.html#ac072015929f97b8695e2c21dd0bf1d0e">CUDA_HOST</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07aa7652afbf2389839e70f6e834126a">clear_data</a> ()</td></tr>
<tr class="memdesc:a07aa7652afbf2389839e70f6e834126a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all scored data.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a1f69ddad5b4a8d3ed6ed56674e7cbaf2" id="r_a1f69ddad5b4a8d3ed6ed56674e7cbaf2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f69ddad5b4a8d3ed6ed56674e7cbaf2">name_</a></td></tr>
<tr class="memdesc:a1f69ddad5b4a8d3ed6ed56674e7cbaf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the scorer (e.g., "Dose_to_water").  <br /></td></tr>
<tr class="memitem:a203b3eb15752e494887cfe61be074bea" id="r_a203b3eb15752e494887cfe61be074bea"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacemqi.html#a9a956d4101dbbf59188d16f3e75b05ec">fp_compute_hit</a>&lt; R &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a203b3eb15752e494887cfe61be074bea">compute_hit_</a></td></tr>
<tr class="memdesc:a203b3eb15752e494887cfe61be074bea"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function pointer to the callback that calculates the scored quantity per hit.  <br /></td></tr>
<tr class="memitem:ad608c8f981506af2396d625f929db3dc" id="r_ad608c8f981506af2396d625f929db3dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmqi_1_1key__value.html">mqi::key_value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad608c8f981506af2396d625f929db3dc">data_</a> = nullptr</td></tr>
<tr class="memdesc:ad608c8f981506af2396d625f929db3dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the hash table memory where scored values are accumulated.  <br /></td></tr>
<tr class="memitem:a1bbef9baf7b8bcb7e640b7223acdaeff" id="r_a1bbef9baf7b8bcb7e640b7223acdaeff"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1bbef9baf7b8bcb7e640b7223acdaeff">max_capacity_</a> = 0</td></tr>
<tr class="memdesc:a1bbef9baf7b8bcb7e640b7223acdaeff"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum capacity of the hash table.  <br /></td></tr>
<tr class="memitem:a25d4ebf400cda228802ed3e3fffd1ae5" id="r_a25d4ebf400cda228802ed3e3fffd1ae5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25d4ebf400cda228802ed3e3fffd1ae5">current_capacity_</a> = 0</td></tr>
<tr class="memdesc:a25d4ebf400cda228802ed3e3fffd1ae5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current number of entries in the hash table.  <br /></td></tr>
<tr class="memitem:ae29b9cc6ad2f032f60e2ebd8332a3a4b" id="r_ae29b9cc6ad2f032f60e2ebd8332a3a4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemqi.html#a81cfefddfaa187b035e94221ce0de65c">scorer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae29b9cc6ad2f032f60e2ebd8332a3a4b">type_</a></td></tr>
<tr class="memdesc:ae29b9cc6ad2f032f60e2ebd8332a3a4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of quantity being scored.  <br /></td></tr>
<tr class="memitem:af046eb64b0948aead3075eba6a4a4fa2" id="r_af046eb64b0948aead3075eba6a4a4fa2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmqi_1_1roi__t.html">roi_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af046eb64b0948aead3075eba6a4a4fa2">roi_</a></td></tr>
<tr class="memdesc:af046eb64b0948aead3075eba6a4a4fa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to a Region of Interest object that filters which voxels are scored.  <br /></td></tr>
<tr class="memitem:a94838cb250fa459ae10f05e9b2389669" id="r_a94838cb250fa459ae10f05e9b2389669"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94838cb250fa459ae10f05e9b2389669">score_variance_</a> = false</td></tr>
<tr class="memdesc:a94838cb250fa459ae10f05e9b2389669"><td class="mdescLeft">&#160;</td><td class="mdescRight">A flag to enable or disable variance calculation.  <br /></td></tr>
<tr class="memitem:a1319c922d86a5432801a1aac006abb6a" id="r_a1319c922d86a5432801a1aac006abb6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmqi_1_1key__value.html">mqi::key_value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1319c922d86a5432801a1aac006abb6a">count_</a> = nullptr</td></tr>
<tr class="memdesc:a1319c922d86a5432801a1aac006abb6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A hash table to store the number of hits per voxel.  <br /></td></tr>
<tr class="memitem:af9f5e3fe8293cafd90f313937a10dd12" id="r_af9f5e3fe8293cafd90f313937a10dd12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmqi_1_1key__value.html">mqi::key_value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9f5e3fe8293cafd90f313937a10dd12">mean_</a> = nullptr</td></tr>
<tr class="memdesc:af9f5e3fe8293cafd90f313937a10dd12"><td class="mdescLeft">&#160;</td><td class="mdescRight">A hash table to store the running mean of the scored quantity.  <br /></td></tr>
<tr class="memitem:a080e6fdca9d8aa2d5c4009d19bfb4ea8" id="r_a080e6fdca9d8aa2d5c4009d19bfb4ea8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmqi_1_1key__value.html">mqi::key_value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a080e6fdca9d8aa2d5c4009d19bfb4ea8">variance_</a> = nullptr</td></tr>
<tr class="memdesc:a080e6fdca9d8aa2d5c4009d19bfb4ea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">A hash table to store the running variance using Welford's algorithm.  <br /></td></tr>
<tr class="memitem:afa6a9094e5c6abdae0b5208acb65888c" id="r_afa6a9094e5c6abdae0b5208acb65888c"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa6a9094e5c6abdae0b5208acb65888c">mtx</a></td></tr>
<tr class="memdesc:afa6a9094e5c6abdae0b5208acb65888c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A mutex to ensure thread safety during CPU execution.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename R&gt;<br />
class mqi::scorer&lt; R &gt;</div><p>A generic class for accumulating physical quantities (e.g., dose) in a simulation. </p>
<p>This class uses a hash table to store scored data, which is memory-efficient for sparse scoring regions. It is designed to be thread-safe for both CPU and GPU execution. The specific quantity to be scored is determined by a callback function, making the scorer versatile. </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">R</td><td>The floating-point type for simulation data (e.g., float, double). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00055">55</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a17af3e2912e25d6836b663f7f30018bb" name="a17af3e2912e25d6836b663f7f30018bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17af3e2912e25d6836b663f7f30018bb">&#9670;&#160;</a></span>scorer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mqi__common_8hpp.html#ae1a4fe884f889ba6d532db4c1d191eb7">CUDA_HOST_DEVICE</a> <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::scorer </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t</td>          <td class="paramname"><span class="paramname"><em>max_capacity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacemqi.html#a9a956d4101dbbf59188d16f3e75b05ec">fp_compute_hit</a>&lt; R &gt;</td>          <td class="paramname"><span class="paramname"><em>func_pointer</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a scorer object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the scorer. </td></tr>
    <tr><td class="paramname">max_capacity</td><td>The maximum size of the hash table. </td></tr>
    <tr><td class="paramname">func_pointer</td><td>A pointer to the function that calculates the value to be scored per hit. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00088">88</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmqi_1_1scorer_a17af3e2912e25d6836b663f7f30018bb_cgraph.png" border="0" usemap="#aclassmqi_1_1scorer_a17af3e2912e25d6836b663f7f30018bb_cgraph" loading="lazy" alt=""/></div>
</div>

</div>
</div>
<a id="a3773209e5984d2ef35117d9e3810f356" name="a3773209e5984d2ef35117d9e3810f356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3773209e5984d2ef35117d9e3810f356">&#9670;&#160;</a></span>~scorer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mqi__common_8hpp.html#ae1a4fe884f889ba6d532db4c1d191eb7">CUDA_HOST_DEVICE</a> <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::~<a class="el" href="classmqi_1_1scorer.html">scorer</a> </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. Frees memory allocated for the data arrays. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00098">98</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmqi_1_1scorer_a3773209e5984d2ef35117d9e3810f356_cgraph.png" border="0" usemap="#aclassmqi_1_1scorer_a3773209e5984d2ef35117d9e3810f356_cgraph" loading="lazy" alt=""/></div>
</div>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a558b1e41c89691e485567a5072aa5543" name="a558b1e41c89691e485567a5072aa5543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a558b1e41c89691e485567a5072aa5543">&#9670;&#160;</a></span>CAS()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mqi__common_8hpp.html#ae1a4fe884f889ba6d532db4c1d191eb7">CUDA_HOST_DEVICE</a> uint32_t <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::CAS </td>
          <td>(</td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>address</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>compare</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A host-side implementation of the atomic Compare-And-Swap (CAS) operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The memory address to operate on. </td></tr>
    <tr><td class="paramname">compare</td><td>The value to compare with the value at <span class="tt">address</span>. </td></tr>
    <tr><td class="paramname">val</td><td>The new value to set if the comparison is successful. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value at <span class="tt">address</span> before the operation. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00139">139</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmqi_1_1scorer_a558b1e41c89691e485567a5072aa5543_icgraph.png" border="0" usemap="#aclassmqi_1_1scorer_a558b1e41c89691e485567a5072aa5543_icgraph" loading="lazy" alt=""/></div>
</div>

</div>
</div>
<a id="a07aa7652afbf2389839e70f6e834126a" name="a07aa7652afbf2389839e70f6e834126a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07aa7652afbf2389839e70f6e834126a">&#9670;&#160;</a></span>clear_data()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mqi__common_8hpp.html#ac072015929f97b8695e2c21dd0bf1d0e">CUDA_HOST</a> void <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::clear_data </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears all scored data. </p>
<p>Resets the data, count, mean, and variance arrays to an empty state (0xffffffff). This is typically done before starting a new simulation run. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00248">248</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>

</div>
</div>
<a id="abb84f14fdacf69efd9ea801c29c908c0" name="abb84f14fdacf69efd9ea801c29c908c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb84f14fdacf69efd9ea801c29c908c0">&#9670;&#160;</a></span>delete_data_if_used()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mqi__common_8hpp.html#ae1a4fe884f889ba6d532db4c1d191eb7">CUDA_HOST_DEVICE</a> void <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::delete_data_if_used </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees the memory for all data, count, mean, and variance arrays if they have been allocated. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00107">107</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmqi_1_1scorer_abb84f14fdacf69efd9ea801c29c908c0_icgraph.png" border="0" usemap="#aclassmqi_1_1scorer_abb84f14fdacf69efd9ea801c29c908c0_icgraph" loading="lazy" alt=""/></div>
</div>

</div>
</div>
<a id="ae938d054c9e6cf37840d69f606a92855" name="ae938d054c9e6cf37840d69f606a92855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae938d054c9e6cf37840d69f606a92855">&#9670;&#160;</a></span>hash_fun()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mqi__common_8hpp.html#a99f5ad1927871dd1fe64a29a102f6830">CUDA_DEVICE</a> unsigned long long int <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::hash_fun </td>
          <td>(</td>
          <td class="paramtype">unsigned long long int</td>          <td class="paramname"><span class="paramname"><em>k</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A hash function to map a key to an index in the hash table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">k</td><td>The key to be hashed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The hash table index. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00121">121</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmqi_1_1scorer_ae938d054c9e6cf37840d69f606a92855_icgraph.png" border="0" usemap="#aclassmqi_1_1scorer_ae938d054c9e6cf37840d69f606a92855_icgraph" loading="lazy" alt=""/></div>
</div>

</div>
</div>
<a id="abcc753e16766271c8baeda191180fe7a" name="abcc753e16766271c8baeda191180fe7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcc753e16766271c8baeda191180fe7a">&#9670;&#160;</a></span>insert_pair()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mqi__common_8hpp.html#a99f5ad1927871dd1fe64a29a102f6830">CUDA_DEVICE</a> void <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::insert_pair </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacemqi.html#a6772fb6691304edb90932df7c4dd0e65">mqi::key_t</a></td>          <td class="paramname"><span class="paramname"><em>key1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemqi.html#a6772fb6691304edb90932df7c4dd0e65">mqi::key_t</a></td>          <td class="paramname"><span class="paramname"><em>key2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">R</td>          <td class="paramname"><span class="paramname"><em>value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long int</td>          <td class="paramname"><span class="paramname"><em>scorer_offset</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomically inserts or adds a value to the hash table. </p>
<p>This function uses atomic operations and linear probing to handle hash collisions and ensure that updates from multiple threads are correctly accumulated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key1</td><td>The primary key (e.g., voxel index). </td></tr>
    <tr><td class="paramname">key2</td><td>An optional secondary key (e.g., beamlet index for Dij matrices). </td></tr>
    <tr><td class="paramname">value</td><td>The value to add to the corresponding key's entry. </td></tr>
    <tr><td class="paramname">scorer_offset</td><td>An offset used in hashing when a secondary key is present. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00159">159</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmqi_1_1scorer_abcc753e16766271c8baeda191180fe7a_cgraph.png" border="0" usemap="#aclassmqi_1_1scorer_abcc753e16766271c8baeda191180fe7a_cgraph" loading="lazy" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmqi_1_1scorer_abcc753e16766271c8baeda191180fe7a_icgraph.png" border="0" usemap="#aclassmqi_1_1scorer_abcc753e16766271c8baeda191180fe7a_icgraph" loading="lazy" alt=""/></div>
</div>

</div>
</div>
<a id="ad6ec7072a5ed6e27f24ccd08382f580e" name="ad6ec7072a5ed6e27f24ccd08382f580e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6ec7072a5ed6e27f24ccd08382f580e">&#9670;&#160;</a></span>process_hit()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="mqi__common_8hpp.html#a99f5ad1927871dd1fe64a29a102f6830">CUDA_DEVICE</a> void <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::process_hit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmqi_1_1track__t.html">track_t</a>&lt; R &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>trk</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t &amp;</td>          <td class="paramname"><span class="paramname"><em>cnb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmqi_1_1grid3d.html">grid3d</a>&lt; <a class="el" href="namespacemqi.html#a80d4917d9cacfb8d4c91de2a8e54c39a">mqi::density_t</a>, R &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>geo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t &amp;</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long int</td>          <td class="paramname"><span class="paramname"><em>scorer_offset</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes a single particle interaction (a "hit"). </p>
<p>This is the main scoring function called during the simulation. It checks if the hit is within the ROI, calls the <span class="tt">compute_hit_</span> function to get the physical quantity, and then accumulates the result in the hash table. It also updates variance statistics if enabled. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trk</td><td>The particle track that had the interaction. </td></tr>
    <tr><td class="paramname">cnb</td><td>The index of the voxel where the interaction occurred. </td></tr>
    <tr><td class="paramname">geo</td><td>The geometry grid, used to get material properties like density. </td></tr>
    <tr><td class="paramname">offset</td><td>An optional secondary key for scoring (e.g., beamlet index). </td></tr>
    <tr><td class="paramname">scorer_offset</td><td>An offset used in hashing when a secondary key is present. </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; calculate quantity</p>
<p>&lt; store quantity and variance if it is set.</p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00203">203</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmqi_1_1scorer_ad6ec7072a5ed6e27f24ccd08382f580e_cgraph.png" border="0" usemap="#aclassmqi_1_1scorer_ad6ec7072a5ed6e27f24ccd08382f580e_cgraph" loading="lazy" alt=""/></div>
</div>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="a203b3eb15752e494887cfe61be074bea" name="a203b3eb15752e494887cfe61be074bea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a203b3eb15752e494887cfe61be074bea">&#9670;&#160;</a></span>compute_hit_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacemqi.html#a9a956d4101dbbf59188d16f3e75b05ec">fp_compute_hit</a>&lt;R&gt; <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::compute_hit_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function pointer to the callback that calculates the scored quantity per hit. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00061">61</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>

</div>
</div>
<a id="a1319c922d86a5432801a1aac006abb6a" name="a1319c922d86a5432801a1aac006abb6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1319c922d86a5432801a1aac006abb6a">&#9670;&#160;</a></span>count_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmqi_1_1key__value.html">mqi::key_value</a>* <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::count_ = nullptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A hash table to store the number of hits per voxel. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00073">73</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>

</div>
</div>
<a id="a25d4ebf400cda228802ed3e3fffd1ae5" name="a25d4ebf400cda228802ed3e3fffd1ae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d4ebf400cda228802ed3e3fffd1ae5">&#9670;&#160;</a></span>current_capacity_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::current_capacity_ = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The current number of entries in the hash table. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00065">65</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>

</div>
</div>
<a id="ad608c8f981506af2396d625f929db3dc" name="ad608c8f981506af2396d625f929db3dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad608c8f981506af2396d625f929db3dc">&#9670;&#160;</a></span>data_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmqi_1_1key__value.html">mqi::key_value</a>* <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::data_ = nullptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to the hash table memory where scored values are accumulated. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00063">63</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>

</div>
</div>
<a id="a1bbef9baf7b8bcb7e640b7223acdaeff" name="a1bbef9baf7b8bcb7e640b7223acdaeff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bbef9baf7b8bcb7e640b7223acdaeff">&#9670;&#160;</a></span>max_capacity_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::max_capacity_ = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum capacity of the hash table. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00064">64</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>

</div>
</div>
<a id="af9f5e3fe8293cafd90f313937a10dd12" name="af9f5e3fe8293cafd90f313937a10dd12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9f5e3fe8293cafd90f313937a10dd12">&#9670;&#160;</a></span>mean_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmqi_1_1key__value.html">mqi::key_value</a>* <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::mean_ = nullptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A hash table to store the running mean of the scored quantity. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00074">74</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>

</div>
</div>
<a id="afa6a9094e5c6abdae0b5208acb65888c" name="afa6a9094e5c6abdae0b5208acb65888c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa6a9094e5c6abdae0b5208acb65888c">&#9670;&#160;</a></span>mtx</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::mutex <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::mtx</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A mutex to ensure thread safety during CPU execution. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00078">78</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>

</div>
</div>
<a id="a1f69ddad5b4a8d3ed6ed56674e7cbaf2" name="a1f69ddad5b4a8d3ed6ed56674e7cbaf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f69ddad5b4a8d3ed6ed56674e7cbaf2">&#9670;&#160;</a></span>name_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::name_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The name of the scorer (e.g., "Dose_to_water"). </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00059">59</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>

</div>
</div>
<a id="af046eb64b0948aead3075eba6a4a4fa2" name="af046eb64b0948aead3075eba6a4a4fa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af046eb64b0948aead3075eba6a4a4fa2">&#9670;&#160;</a></span>roi_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmqi_1_1roi__t.html">roi_t</a>* <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::roi_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A pointer to a Region of Interest object that filters which voxels are scored. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00069">69</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>

</div>
</div>
<a id="a94838cb250fa459ae10f05e9b2389669" name="a94838cb250fa459ae10f05e9b2389669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94838cb250fa459ae10f05e9b2389669">&#9670;&#160;</a></span>score_variance_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::score_variance_ = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A flag to enable or disable variance calculation. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00072">72</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>

</div>
</div>
<a id="ae29b9cc6ad2f032f60e2ebd8332a3a4b" name="ae29b9cc6ad2f032f60e2ebd8332a3a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae29b9cc6ad2f032f60e2ebd8332a3a4b">&#9670;&#160;</a></span>type_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemqi.html#a81cfefddfaa187b035e94221ce0de65c">scorer_t</a> <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::type_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The type of quantity being scored. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00067">67</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>

</div>
</div>
<a id="a080e6fdca9d8aa2d5c4009d19bfb4ea8" name="a080e6fdca9d8aa2d5c4009d19bfb4ea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a080e6fdca9d8aa2d5c4009d19bfb4ea8">&#9670;&#160;</a></span>variance_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename R&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmqi_1_1key__value.html">mqi::key_value</a>* <a class="el" href="classmqi_1_1scorer.html">mqi::scorer</a>&lt; R &gt;::variance_ = nullptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A hash table to store the running variance using Welford's algorithm. </p>

<p class="definition">Definition at line <a class="el" href="mqi__scorer_8hpp_source.html#l00075">75</a> of file <a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>base/<a class="el" href="mqi__scorer_8hpp_source.html">mqi_scorer.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespacemqi.html">mqi</a></li><li class="navelem"><a href="classmqi_1_1scorer.html">scorer</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
